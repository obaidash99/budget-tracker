{% extends "base.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}

<div class="content">
   <div class="container-fluid">
      <h1 class="text-center main-text">Search Results for "{{ search_text }}"</h1>
      <div class="row">
         <div class="col-md-6">
            <h2 class="text-center table-head">Income Results</h2>
            <div class="table-responsive">
               <table class="table table-striped">
                  <thead>
                     <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Source</th>
                        <th scope="col">Description</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Date</th>
                        <th scope="col">Action</th>
                     </tr>
                  </thead>
                  <tbody>
                     {% if income_results %}
                     {% for income_item in income_results %}
                     <tr>
                        <td scope="row">{{ income_item['id'] }}</td>
                        <td scope="row">{{ income_item['name'] }}</td>
                        <td scope="row">{{ income_item['description'] }}</td>
                        <td scope="row">{{ income_item['amount'] }} $</td>
                        <td scope="row">{{ income_item['date'] }}</td>
                        <td scope="row">
                           <a class="btn btn-success mb-1" href="{{ url_for('edit_inc', id=income_item['id']) }}"
                              role="button">Edit</a>
                           <a class="btn btn-danger mb-1" href="{{ url_for('del_inc', id=income_item['id']) }}"
                              role="button">Delete</a>
                        </td>
                     </tr>
                     {% endfor %}
                     {% else %}
                     <tr>
                        <td scope="row" colspan="6" class="text-center">No Income Sources Found.</td>
                     </tr>
                     {% endif %}
                  </tbody>
               </table>
            </div>
         </div>
         <div class="col-md-6">
            <h2 class="text-center table-head">Expenses Results</h2>
            <div class="table-responsive">
               <table class="table table-striped">
                  <thead>
                     <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Description</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Date</th>
                        <th scope="col">Action</th>
                     </tr>
                  </thead>
                  <tbody>
                     {% if expense_results %}
                     {% for expense_item in expense_results %}
                     <tr>
                        <td scope="row">{{ expense_item['id'] }}</td>
                        <td scope="row">{{ expense_item['name'] }}</td>
                        <td scope="row">{{ expense_item['description'] }}</td>
                        <td scope="row">{{ expense_item['amount'] }} $</td>
                        <td scope="row">{{ expense_item['date'] }}</td>
                        <td scope="row">
                           <a class="btn btn-success mb-1" href="{{ url_for('edit_exp', id=expense_item['id']) }}"
                              role="button">Edit</a>
                           <a class="btn btn-danger mb-1" href="{{ url_for('del_exp', id=expense_item['id']) }}"
                              role="button">Delete</a>
                        </td>
                     </tr>
                     {% endfor %}
                     {% else %}
                     <tr>
                        <th scope="row" colspan="6" class="text-center">No Expenses Found.</th>
                     </tr>
                     {% endif %}
                  </tbody>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>

{% endblock %}